{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-content style=\\\"text-align:center\\\">\\n  <div style=\\\"background-color: red;color:white\\\"><b><h1>GamePacks</h1></b></div>\\n  <img src=\\\"assets/blank.png\\\" height=\\\"50%\\\" alt=\\\"\\\">\\n  <div id=\\\"main1\\\" style=\\\"display: block\\\">\\n    <div>\\n      <ion-button (click)=\\\"newlogin()\\\">Login</ion-button>\\n    </div>\\n    <div>\\n      <ion-button (click)=\\\"newsignup()\\\"> Sign Up </ion-button>\\n    </div>\\n  </div>\\n\\n  <div id=\\\"login\\\" style=\\\"display: none\\\">\\n    <div>\\n      <ion-list>\\n        <ion-item>\\n      <ion-input [(ngModel)]=\\\"email\\\" type=\\\"email\\\" placeholder=\\\"Enter Email\\\" required></ion-input>\\n      </ion-item>\\n      <ion-item>\\n      <ion-input [(ngModel)]=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Enter Password\\\" required></ion-input>\\n      <!-- <input type=\\\"password\\\" placeholder=\\\"Confirm Password\\\" required> -->\\n    </ion-item></ion-list></div>\\n    <ion-button (click)=\\\"login()\\\">Login</ion-button>\\n\\n\\n\\n    <div>\\n      <ion-button (click)=\\\"goBack1()\\\">Back</ion-button>\\n    </div>\\n\\n  </div>\\n\\n\\n\\n\\n\\n\\n  <div id=\\\"signup\\\" style=\\\"display:none\\\">\\n\\n    <ion-list>\\n      <ion-item>\\n        <ion-input required type=\\\"text\\\" placeholder=\\\"Email\\\" [(ngModel)]=\\\"email\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <ion-input required type=\\\"password\\\" placeholder=\\\"Password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\n      </ion-item>\\n      <ion-item>\\n        <label for=\\\"date\\\">Date of Birth</label>\\n        <ion-input slot='end' required type=\\\"date\\\" placeholder=\\\"Date of Birth\\\" [(ngModel)]=\\\"DOB\\\"></ion-input>\\n      </ion-item>\\n\\n    </ion-list>\\n    <div>\\n      <ion-button (click)=\\\"goBack1()\\\">Back</ion-button>\\n    </div>\\n    <div>\\n      <ion-button (click)=\\\"register()\\\">Register</ion-button>\\n    </div>\\n</div>\\n\\n\\n</ion-content>\"","module.exports = \"ion-content {\\n  --background: url('giftbox1.png') no-repeat center center; }\\n\\nion-input {\\n  --background:red;\\n  color: white; }\\n\\nion-button {\\n  --background:red;\\n  color: white; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wbmd1eWVuL0lvbmljQXBwL3NwYWNlQXBwL3NyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMERBQWEsRUFDaEI7O0FBRUQ7RUFDSSxpQkFBYTtFQUNiLGFBQ0osRUFBQzs7QUFDRDtFQUNJLGlCQUFhO0VBQ2IsYUFDSixFQUFDIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnR7XG4gICAgLS1iYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9naWZ0Ym94MS5wbmcnKSBuby1yZXBlYXQgY2VudGVyIGNlbnRlciA7XG59XG5cbmlvbi1pbnB1dHtcbiAgICAtLWJhY2tncm91bmQ6cmVkO1xuICAgIGNvbG9yOndoaXRlXG59XG5pb24tYnV0dG9ue1xuICAgIC0tYmFja2dyb3VuZDpyZWQ7XG4gICAgY29sb3I6IHdoaXRlXG59Il19 */\"","import {\n  Component,\n  OnInit\n} from '@angular/core';\nimport {\n  Router\n} from '@angular/router'\nimport {\n  CognitoService\n} from '../cognito.service';\nimport {\n  AlertController\n} from '@ionic/angular';\nimport {\n  ToastController\n} from '@ionic/angular';\nimport {\n  RestapiService\n} from '../restapi.service';\n\n@Component({\n  selector: 'app-alogin',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n  element: HTMLElement;\n  email: string;\n  password: string;\n\n\n  constructor(public api: RestapiService,\n    private router: Router, public cognitoService: CognitoService, public alertCtrl: AlertController, public toastCtrl: ToastController) {\n    if (this.cognitoService.getAuthenticatedUser() != null) {\n      this.api.getData();\n      setTimeout(() => {\n        this.router.navigate(['/main'])\n\n      }, 1000);\n      console.log(this.cognitoService.getAuthenticatedUser())\n      this.cognitoService.getAuthenticatedUser().getSession(function (err, session) {\n        if (err) {\n          alert(err);\n          return;\n        }\n        console.log('session validity: ' + session.isValid());\n\n      }, );\n    }\n  };\n\n  DOB: any;\n  gender: any;\n  SelectedValue: any;\n\n  ngOnInit() {}\n\nnewlogin(){\nlet main1 = document.getElementById('main1')\nlet login = document.getElementById('login')\nlet signup = document.getElementById('signup')\nmain1.style.display = 'none'\nlogin.style.display = 'block'\nsignup.style.display = 'none'\n}\n\nnewsignup(){\n  let main1 = document.getElementById('main1')\n  let login = document.getElementById('login')\n  let signup = document.getElementById('signup')\n  main1.style.display = 'none'\n  login.style.display = 'none'\n  signup.style.display = 'block'\n}\n\ngoBack1(){\n  let main1 = document.getElementById('main1')\n  let login = document.getElementById('login')\n  let signup = document.getElementById('signup')\n  main1.style.display = 'block'\n  login.style.display = 'none'\n  signup.style.display = 'none'\n}\n\n\n\n\n\n  login() {\n    this.cognitoService.authenticate(this.email, this.password).then((res) => {\n      console.log(\"User logged in\");\n      console.log(res);\n      console.log(res['idToken']['jwtToken']);\n       this.api.getData();\n      setTimeout(() => {\n        this.router.navigate(['/main'])\n\n      }, 1000);\n\n      this.presentToast();\n    }, (err) => {\n      console.log(\"user not logged in!\");\n      console.log(err);\n    })\n  }\n\n  async presentToast() {\n    const toast = await this.toastCtrl.create({\n      message: 'You were Signed In',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n  register() {\n\n    //  this.api.User.gender = this.gender\n    //  this.api.User.DOB = this.DOB\n\n\n    //  console.log(this.api.User)\n\n\n    this.cognitoService.signUp(this.email, this.password).then(\n      res => {\n        this.promptVerificationCode();\n      },\n      err => {\n\n        console.log(err);\n      }\n    );\n  }\n\n  async promptVerificationCode() {\n    let alert = await this.alertCtrl.create({\n      message: \"Enter Verfication Code\",\n      inputs: [{\n        name: \"VerificationCode\",\n        placeholder: \"Verification Code\"\n      }],\n      buttons: [{\n          text: \"Cancel\",\n          role: \"cancel\",\n          handler: data => {\n            console.log(\"Cancel clicked\");\n          }\n        },\n        {\n          text: \"Verify\",\n          handler: data => {\n            this.verifyUser(data.VerificationCode);\n          }\n        }\n\n      ]\n    });\n    await alert.present();\n  }\n\n  verifyUser(VerificationCode) {\n    this.cognitoService.confirmUser(VerificationCode, this.email).then(\n      res => {\n        console.log(res);\n        this.successAlert();\n      },\n      err => {\n        alert(err.message);\n      }\n    );\n  }\n\n  async successAlert() {\n    const alert = await this.alertCtrl.create({\n      header: \"Success\",\n      message: \"You are now registered!\",\n      buttons: [\"Sweet!\"]\n    });\n    alert.onDidDismiss().then(() => {\n      this.router.navigate(['/main']);\n    });\n    await alert.present();\n  }\n\n  onChange(SelectedValue) {\n    console.log(\"Selected\", SelectedValue)\n\n  }\n\n}"],"sourceRoot":""}